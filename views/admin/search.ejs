<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../src/css/output.css">

    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body class="w-screen overflow-x-hidden">
    <main class="w-full">
        <nav class="p-4 border-b flex justify-between items-center">
            <ul class="flex gap-4">
                <li><a href="/admin/homead" class="block p-2 text-gray-900">Dashboard</a></li>
                <li><a href="/admin/etudiant" class="block p-2 bg-blue-950 shadow-md text-white rounded-lg hover:bg-blue-800 duration-300 drop-shadow-lg">Etudiant</a></li>
                <li><a href="/admin/group" class="block p-2 text-gray-900">Groupe</a></li>
            </ul>
            <div class="group">
                <div class="h-8 w-8 bg-gray-500 rounded-full flex justify-center items-center text-white group-hover:cursor-pointer mr-5">s</div>
                <div class="bg-gray-100 mt-3 w-32 translate-y-3 group-hover:translate-y-0 duration-300 opacity-0 group-hover:opacity-100 rounded-lg shadow-md absolute -z-10 group-hover:z-50 right-10  border p-2">
                    <div>
                        <h2 class="font-semibold text-gray-900">The pansa</h2>
                        <p class="text-sm text-gray-500">Admin</p>
                    </div>
                    <a href="/admin"><button class="p-1 px-2 mt-4 w-full bg-red-600 text-white rounded-lg" >Log out</button></a>
                </div>
            </div>
        </nav>

        <section class="grid lg:justify-center w-screen">
            <section class="p-4 w-full lg:mt-5">
                <div class="flex w-full lg:gap-6 items-center justify-between">
                    <div class="flex items-center">
                        <form action="/admin/etudiant" method="POST">   
                        <input type="search" name="searchBox" id="" placeholder="rechercher ici..." class="border p-2 outline-none focus:border-blue-950/60 rounded-l-lg">
                        <button type="submit" class="p-2 bg-blue-950 rounded-r-lg text-white">Search</button>
                    </form>
                    <h1 style="text-align: center;">Résultats de la recherche pour <strong>"<%= searchTerm %>"</strong></u></h1>

                    </div>
                    
                </div>
            </section>

            <section class=" lg:w-[90vw] lg:h-[80vh] border overflow-y-scroll overflow-x-scroll">
                <table border="1" class="lg:w-[130vw] border border-collapse justify-between">
             
                   <!-- Faut pas boucler sur ça -->
                    <thead class="border bg-blue-950 text-white ">
                        <th class="p-3">Nom Groupe</th>
                        <th class="p-3">Noms Etudiants</th>
                        <th class="p-3">matricule</th>
                        <th class="p-3">Promotion</th>
                        <th class="p-3">Département</th>
                        <th class="p-3">email</th>
                        <th class="p-3">numero</th>
                        <th class="p-3">Actions</th>
                    </thead>

                  
                    <tbody class="">
                          <!-- ta boule comment ici -->
                          <% if (participants.length > 0) { %>
                          <% participants.forEach(function(participant) { %>
                        <tr class="text-center border">
                            <td rowspan="3" class="font-bold"><%= participant.username %></td>
                            <td><%= participant.Etudiant1 %></td>
                            <td><%= participant.Matricule1 %></td>
                            <td><%= participant.Promotion1 %></td>
                            <td><%= participant.filiere1 %></td>
                            <td><%= participant.Email1 %></td>
                            <td><%= participant.Telephone1 %></td>
                            <td class="flex items-center justify-center p-2">
                                <button class="bg-blue-600  w-6 h-6 rounded-full flex items-center justify-center text-white"><i class='bx bx-edit-alt'></i></button>
                                <button class="bg-red-600 ml-1 w-6 h-6 rounded-full flex items-center justify-center text-white"><i class='bx bx-trash'></i></button>
                            </td>
                        </tr>
                        <tr class="text-center border">
                           
                            <td><%= participant.Etudiant2 %></td>
                            <td><%= participant.Matricule2 %></td>
                            <td><%= participant.Promotion2 %></td>
                            <td><%= participant.filiere2 %></td>
                            <td><%= participant.Email2 %></td>
                            <td><%= participant.Telephone2 %></td>
                            <td class="flex items-center justify-center p-2">
                                <button class="bg-blue-600  w-6 h-6 rounded-full flex items-center justify-center text-white"><i class='bx bx-edit-alt'></i></button>
                                <button class="bg-red-600 ml-1 w-6 h-6 rounded-full flex items-center justify-center text-white"><i class='bx bx-trash'></i></button>
                            </td>
                        </tr>
                        <tr class="text-center border">
                          
                            <td><%= participant.Etudiant3 %></td>
                            <td><%= participant.Matricule3 %></td>
                            <td><%= participant.Promotion3 %></td>
                            <td><%= participant.filiere3 %></td>
                            <td><%= participant.Email3 %></td>
                            <td><%= participant.Telephone3 %></td>
                            <td class="flex items-center justify-center p-2">
                                <button class="bg-blue-600  w-6 h-6 rounded-full flex items-center justify-center text-white"><i class='bx bx-edit-alt'></i></button>
                                <button class="bg-red-600 ml-1 w-6 h-6 rounded-full flex items-center justify-center text-white"><i class='bx bx-trash'></i></button>
                            </td>
                        </tr>
                        <% }) %>
                                <% } else { %>
                                    <p style="text-align: center;">Aucun participant trouvé pour <strong>"<%= searchTerm %>"</strong></p>
                                    <% } %>
                    </tbody>
                    
                </table>
            </section>
        </section>
       
    </main>
</body>
</html>